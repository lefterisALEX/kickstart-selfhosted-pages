<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Getting_Started/preparation/cicd" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">CICD | KickstartSelfhostedServices</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lefterisALEX.github.io/kickstart-selfhosted-pages/img/&lt;open-graph-card&gt;"><meta data-rh="true" name="twitter:image" content="https://lefterisALEX.github.io/kickstart-selfhosted-pages/img/&lt;open-graph-card&gt;"><meta data-rh="true" property="og:url" content="https://lefterisALEX.github.io/kickstart-selfhosted-pages/Getting_Started/preparation/cicd"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CICD | KickstartSelfhostedServices"><meta data-rh="true" name="description" content="What we use?"><meta data-rh="true" property="og:description" content="What we use?"><link data-rh="true" rel="icon" href="/kickstart-selfhosted-pages/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lefterisALEX.github.io/kickstart-selfhosted-pages/Getting_Started/preparation/cicd"><link data-rh="true" rel="alternate" href="https://lefterisALEX.github.io/kickstart-selfhosted-pages/Getting_Started/preparation/cicd" hreflang="en"><link data-rh="true" rel="alternate" href="https://lefterisALEX.github.io/kickstart-selfhosted-pages/Getting_Started/preparation/cicd" hreflang="x-default"><link rel="stylesheet" href="/kickstart-selfhosted-pages/assets/css/styles.76118980.css">
<script src="/kickstart-selfhosted-pages/assets/js/runtime~main.3e29fdff.js" defer="defer"></script>
<script src="/kickstart-selfhosted-pages/assets/js/main.84590a14.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kickstart-selfhosted-pages/"><b class="navbar__title text--truncate">Kickstart Selfhosted Services</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" sidebarid="docsSidebar" href="/kickstart-selfhosted-pages/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lefterisALEX/kickstart-selfhosted-pages" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kickstart-selfhosted-pages/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kickstart-selfhosted-pages/how_it_works">How it works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kickstart-selfhosted-pages/costs">Cloud Costs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/kickstart-selfhosted-pages/category/getting-started">Getting Started</a><button aria-label="Collapse sidebar category &#x27;Getting Started&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/kickstart-selfhosted-pages/category/preparation">Preparation</a><button aria-label="Collapse sidebar category &#x27;Preparation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/preparation/cicd">CICD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/preparation/cloud_provider">Cloud Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/preparation/vpn">VPN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/preparation/terraform_state">Terraform State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/preparation/cloudflare">DNS &amp; TLS certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/preparation/external_secrets">External Secrets</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/configuration_options">Configuration Options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/deploy">Initial Deploy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/kickstart-selfhosted-pages/Getting_Started/add-new-services">Add more services</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/kickstart-selfhosted-pages/category/how-to">How to</a><button aria-label="Expand sidebar category &#x27;How to&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kickstart-selfhosted-pages/common-issues">Common Issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/kickstart-selfhosted-pages/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/kickstart-selfhosted-pages/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/kickstart-selfhosted-pages/category/getting-started"><span itemprop="name">Getting Started</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/kickstart-selfhosted-pages/category/preparation"><span itemprop="name">Preparation</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CICD</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CICD</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-we-use">What we use?<a href="#what-we-use" class="hash-link" aria-label="Direct link to What we use?" title="Direct link to What we use?">​</a></h2>
<p>The following guide is going though the required preparation steps that you will need before you first run your pipeline to deploy your selfhosted services. We are using Github and Github Actions for that.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-of-kickstart-template">Use of kickstart template<a href="#use-of-kickstart-template" class="hash-link" aria-label="Direct link to Use of kickstart template" title="Direct link to Use of kickstart template">​</a></h2>
<ol>
<li>Go to <a href="https://github.com/lefterisALEX/kickstart-selfhosted-services" target="_blank" rel="noopener noreferrer">kickstart-selfhosted-services</a> repository and press &quot;Use this template&quot; to create a new repository based on this template repository.</li>
</ol>
<p><img decoding="async" loading="lazy" src="/kickstart-selfhosted-pages/assets/images/use-template-5a4fd7e3a1be9aaf55bde8dc3c76e749.png" width="1442" height="525" class="img_ev3q"></p>
<ol start="2">
<li>Clone the new repository to your laptop/desktop.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="github-secret">Github Secrets<a href="#github-secret" class="hash-link" aria-label="Direct link to Github Secrets" title="Direct link to Github Secrets">​</a></h2>
<p>During this setup we will need to store and use some sensitive information during the pipeline execution. Think of API keys for services like Hetzner, Tailscale etc. GitHub provides a feature called &quot;Secrets &amp; Variable&quot; that allows you to store sensitive data, such as API keys, passwords, and tokens, securely within your repository.</p>
<p><strong>example of creating dummy secret</strong><br>
<!-- -->To create a dummy secret in your newly created GitHub repository, navigate to the repository on GitHub and click on the <strong>&quot;Settings&quot;</strong> tab. In the left sidebar, select <strong>&quot;Secrets and variables&quot;</strong>,  then click on <strong>&quot;Actions&quot;</strong>. Here, you will see an option to <strong>&quot;New repository secret&quot;</strong> , click on it.<!-- -->:w</p>
<p><img decoding="async" loading="lazy" src="/kickstart-selfhosted-pages/assets/images/github-dummy-secret-1-0072896465a00165e5f2442f8554dcf2.png" width="1624" height="890" class="img_ev3q"></p>
<p>In the <strong>&quot;Name&quot;</strong> field, enter a name for your secret, such as <code>DUMMY_SECRET</code>. In the <strong>&quot;Secret&quot;</strong> field, input a placeholder value, like <code>my_super_secret_token</code>. Once you&#x27;ve entered the information, click the <strong>&quot;Add secret&quot;</strong> button to save it.
<img decoding="async" loading="lazy" src="/kickstart-selfhosted-pages/assets/images/github-dummy-secret-2-b1f30db7b50e25887efa12a10d89611e.png" width="1624" height="890" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>During this guide whenever you need to create a GitHub project secret, you can follow these same steps.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="generate-a-github-token">Generate a Github token<a href="#generate-a-github-token" class="hash-link" aria-label="Direct link to Generate a Github token" title="Direct link to Generate a Github token">​</a></h2>
<p><strong>why we need this?</strong><br>
<!-- -->We will need now to create a github token with permissions that will allow to clone and pull your repository. This token will stored in the VPS and will give permissions to the VPS to clone and periodically pull your repository.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>In case you want to keep your repository private and can be skipped if your repository will be public.</p></div></div>
<p>On the top right corner press on your profile icon ,then click on <strong>&quot;Settings&quot;</strong> and then click on <strong>&quot;Developer Settings&quot;</strong>
<img decoding="async" loading="lazy" src="/kickstart-selfhosted-pages/assets/images/github-token-1-450e3163f6629ec3e87c9fbfea474007.png" width="1522" height="890" class="img_ev3q"></p>
<p>Now click on <strong>&quot;Fine-Grained tokens&quot;</strong> and <strong>&quot;Generate new Token&quot;</strong>.
<img decoding="async" loading="lazy" src="/kickstart-selfhosted-pages/assets/images/github-token-2-f08e70ac003b7dceb280d251bf1fd3fe.png" width="1522" height="610" class="img_ev3q"></p>
<p>In the new screen you can select what permissions and the attibutes of the token:</p>
<ul>
<li>Give a descriptive name for your token, this will be useful to differentiate it in case you have multiple tokens.</li>
<li>Set the expiration date</li>
<li>Select in repository access to access only your newly created repository.</li>
<li>In the permissions select Contents</li>
</ul>
<p><img decoding="async" loading="lazy" src="/kickstart-selfhosted-pages/assets/images/github-token-5-7d98cebd581d9a2b2ac48656af4b359a.png" width="1193" height="911" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" src="/kickstart-selfhosted-pages/assets/images/github-token-4-dc6c74727b8f845932c11620b9df58a1.png" width="1192" height="911" class="img_ev3q"></p>
<p>Store the token as a <a href="/kickstart-selfhosted-pages/Getting_Started/preparation/cicd#github-secret">GitHub repository secret</a> in your repository under the name <code>GH_TOKEN</code>
<img decoding="async" loading="lazy" src="/kickstart-selfhosted-pages/assets/images/github-token-created-f3ea47b753460774ac47f1c3cdba1c73.png" width="1510" height="911" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Set an expiration date of 90 days means that after this period pass my token will not be valid anymore and i will need to rotate it and update the Github repository secret with the new value.</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/kickstart-selfhosted-pages/category/preparation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Preparation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/kickstart-selfhosted-pages/Getting_Started/preparation/cloud_provider"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cloud Provider</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-we-use" class="table-of-contents__link toc-highlight">What we use?</a></li><li><a href="#use-of-kickstart-template" class="table-of-contents__link toc-highlight">Use of kickstart template</a></li><li><a href="#github-secret" class="table-of-contents__link toc-highlight">Github Secrets</a></li><li><a href="#generate-a-github-token" class="table-of-contents__link toc-highlight">Generate a Github token</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>