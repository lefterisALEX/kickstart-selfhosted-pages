"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[613],{295:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/upload-ssh-0f7c229593130302906954ff74a6f2a9.png"},456:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Preparation/Hetzner","title":"Cloud Provider","description":"As a cloud provider we are using Hetzner. This page will guide you though the pre-required steps needed to do in Hetzner Console before you do the first run of the pipeline.","source":"@site/docs/Preparation/Hetzner.md","sourceDirName":"Preparation","slug":"/Preparation/Hetzner","permalink":"/kickstart-selfhosted-pages/Preparation/Hetzner","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"defaultSidebar","previous":{"title":"CICD","permalink":"/kickstart-selfhosted-pages/Preparation/Github"},"next":{"title":"VPN","permalink":"/kickstart-selfhosted-pages/Preparation/tailscale"}}');var s=n(4848),i=n(8453);const o={sidebar_position:2},a="Cloud Provider",c={},d=[{value:"Create a new project",id:"create-a-new-project",level:2},{value:"Upload our SSH public key",id:"ssh",level:2},{value:"Generate an API token",id:"generate-an-api-token",level:2}];function h(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"cloud-provider",children:"Cloud Provider"})}),"\n",(0,s.jsx)(t.p,{children:"As a cloud provider we are using Hetzner. This page will guide you though the pre-required steps needed to do in Hetzner Console before you do the first run of the pipeline."}),"\n",(0,s.jsx)(t.h2,{id:"create-a-new-project",children:"Create a new project"}),"\n",(0,s.jsxs)(t.p,{children:["In ",(0,s.jsx)(t.a,{href:"https://console.hetzner.cloud/projects",children:"Hetzner Console"})," we will need to create a new proect where all our resources will be deployed.",(0,s.jsx)(t.br,{}),"\n","To do that we click on ",(0,s.jsx)(t.strong,{children:'"+ New Project"'})," and give it a name of your choice.\n",(0,s.jsx)(t.img,{src:n(9054).A+"",width:"1510",height:"911"}),"\n",(0,s.jsx)(t.img,{src:n(4805).A+"",width:"1510",height:"911"})]}),"\n",(0,s.jsx)(t.h2,{id:"ssh",children:"Upload our SSH public key"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"why we need this?"}),(0,s.jsx)(t.br,{}),"\n","This key will be added in ",(0,s.jsx)(t.code,{children:"~/.ssh/authorized_keys"})," of the VPS and will allow us to connect through SSH to the remote machine.\nIf you want to learn more about how to generate an SSH keypair please check ",(0,s.jsx)(t.a,{href:"https://community.hetzner.com/tutorials/add-ssh-key-to-your-hetzner-cloud",children:"here"})]}),"\n",(0,s.jsxs)(t.p,{children:["In the project you just created under ",(0,s.jsx)(t.strong,{children:'"Security"'})," press ",(0,s.jsx)(t.strong,{children:'"Add SSH key"'})," and paste your SSH public key."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(9673).A+"",width:"1442",height:"781"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(295).A+"",width:"1442",height:"828"})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Naming the SSH key main will not require changes in the terraform module since is the default key which will be looked up."})}),"\n",(0,s.jsx)(t.h2,{id:"generate-an-api-token",children:"Generate an API token"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"why we need this?"}),(0,s.jsx)(t.br,{}),"\n","An API token can give certain permissions in the project, for example create a new VPS. We will need to generate an API token and store it as secret in Github reposiroty secrets so can be used during the pipeline execution to deploy the required infrastructure."]}),"\n",(0,s.jsxs)(t.p,{children:["In the newly created project under ",(0,s.jsx)(t.strong,{children:"Security"})," -> ",(0,s.jsx)(t.strong,{children:"API Tokens"})," click on ",(0,s.jsx)(t.strong,{children:"generate API token"})," with Read & Write permissions"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(8901).A+"",width:"1442",height:"828"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(7102).A+"",width:"1442",height:"828"})}),"\n",(0,s.jsxs)(t.p,{children:["Store the token as a ",(0,s.jsx)(t.a,{href:"Github#github-secret",children:"GitHub repository secret"})," in your repository under the name ",(0,s.jsx)(t.code,{children:"HCLOUD_TOKEN"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(4321).A+"",width:"1510",height:"911"})})]})}function l(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},4321:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/github-secret-hcloud-96d988b2b3ba899f7ae807272eb1ef80.png"},4805:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/hetzner-add-new-project-2-459a7de7b2133ea5a7fdb72435250da2.png"},7102:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/api-key-2-d78d493e5571aee56130acc6a251ec8b.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>a});var r=n(6540);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}},8901:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/api-key-1-fcf8dfb50ce4a0fc3ccd6aca8e57c2e3.png"},9054:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/hetzner-add-new-project-1-590c96c25687e0ec9fed70cc2571cfcc.png"},9673:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/ssh-key-3b8b2c5eb9a353a5af0c7129f813b2f0.png"}}]);